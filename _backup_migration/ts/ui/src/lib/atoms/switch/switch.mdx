import { ArgTypes, Canvas, Meta } from '@storybook/addon-docs/blocks';
import { MmcSwitch } from './switch.component';
import * as SwitchStories from './switch.stories';

<Meta title="Atoms/Switch" />

# Switch

#### A toggle control that allows the user to switch between two states.

<Canvas sourceState="hidden" of={SwitchStories.Default} />

## Features

- ✅ Togglable on/off states
- ✅ Keyboard accessible (Space to toggle)
- ✅ Can be controlled or uncontrolled
- ✅ Works with Angular forms (`NgModel`, `FormControl`)
- ✅ Supports required validation
- ✅ Built with ng-primitives for accessibility

## Import

Get started with importing the component:

```typescript
import { MmcSwitch } from '@mmc/ui';
```

## Examples

### Basic Usage

```html
<mmc-switch [(ngModel)]="enabled"></mmc-switch>
```

### With Label

```html
<label class="flex items-center gap-2 cursor-pointer">
	<mmc-switch [(ngModel)]="notifications"></mmc-switch>
	Enable notifications
</label>
```

### With Reactive Forms

```typescript
import { FormControl } from '@angular/forms';

export class MyComponent {
	darkMode = new FormControl(false);
}
```

```html
<label class="flex items-center gap-2 cursor-pointer">
	<mmc-switch [formControl]="darkMode"></mmc-switch>
	Dark mode
</label>
```

### Disabled

```html
<mmc-switch [disabled]="true"></mmc-switch>
```

### Required Validation

```html
<form [formGroup]="form">
	<mmc-switch formControlName="acceptTerms" [required]="true"></mmc-switch>
</form>
```

## API Reference

<ArgTypes of={MmcSwitch} />

## Accessibility

- Uses proper ARIA attributes (`role="switch"`, `aria-checked`)
- Keyboard navigable (Tab to focus, Space to toggle)
- Screen reader friendly
- Follows WAI-ARIA switch pattern
- Built on ng-primitives/switch

## All Examples

<Canvas of={SwitchStories.Checked} />
<Canvas of={SwitchStories.Disabled} />
<Canvas of={SwitchStories.DisabledChecked} />
