import { Canvas, Meta } from '@storybook/addon-docs/blocks';
import * as PaginationStories from './pagination.stories';

<Meta title="Molecules/Pagination" />

# Pagination

A pagination component that provides navigation controls for multi-page content with smart ellipsis handling for large page counts.

## Features

- **Smart Ellipsis**: Automatically shows ellipsis (...) when there are many pages
- **First/Last Navigation**: Quick jump to first and last pages
- **Keyboard Navigation**: Full keyboard support
- **Form Integration**: Works with Angular forms via `ControlValueAccessor`
- **Accessible**: ARIA labels and semantic HTML

## Usage

### Default Pagination

<Canvas of={PaginationStories.Default} />

### Large Page Count

When there are more than 7 pages, the component automatically shows ellipsis to keep the UI clean:

<Canvas of={PaginationStories.ManyPages} />

## Ellipsis Behavior

The pagination intelligently displays pages based on the current page:

- Always shows first and last page
- Shows current page and adjacent pages
- Uses ellipsis (...) to represent skipped pages
- Keeps the pagination compact even with 100+ pages

## API

### Inputs

- `page` - Current page number (1-indexed)
- `pageCount` - Total number of pages
- `class` - Additional CSS classes

### Outputs

- `pageChange` - Emitted when the page changes

## Integration Example

```typescript
import { Component, signal } from '@angular/core';

@Component({
  template: \`
    <mmc-pagination
      [page]="currentPage()"
      [pageCount]="totalPages()"
      (pageChange)="onPageChange($event)"
    ></mmc-pagination>
  \`
})
export class MyComponent {
  currentPage = signal(1);
  totalPages = signal(50);

  onPageChange(page: number): void {
    this.currentPage.set(page);
    this.loadData(page);
  }

  loadData(page: number): void {
    // Fetch data for the page
  }
}
```

## Keyboard Navigation

- **Arrow Left**: Previous page
- **Arrow Right**: Next page
- **Home**: First page
- **End**: Last page
- **Tab**: Navigate through page buttons
