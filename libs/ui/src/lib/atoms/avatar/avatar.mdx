import { ArgTypes, Canvas, Meta } from '@storybook/addon-docs/blocks';
import { MmcAvatar } from './avatar.component';
import * as AvatarStories from './avatar.stories';

<Meta title="Atoms/Avatar" />

# Avatar

#### A component that displays a user's profile picture with a fallback option.

<Canvas sourceState="hidden" of={AvatarStories.Default} />

## Features

- ✅ Image display with automatic fallback
- ✅ Customizable fallback text (initials)
- ✅ Icon fallback option
- ✅ Multiple sizes
- ✅ Badge support for status indicators

## Import

Get started with importing the components:

```typescript
import { MmcAvatar, MmcAvatarImage, MmcAvatarFallback } from '@mmc/ui';
```

## Examples

### Basic Usage

```html
<mmc-avatar>
	<mmc-avatar-image [src]="user.avatarUrl" [imgAlt]="user.name" />
	<mmc-avatar-fallback>{{user.initials}}</mmc-avatar-fallback>
</mmc-avatar>
```

### With Initials Fallback

```html
<mmc-avatar>
	<mmc-avatar-image src="https://example.com/avatar.jpg" imgAlt="John Doe" />
	<mmc-avatar-fallback>JD</mmc-avatar-fallback>
</mmc-avatar>
```

### With Icon Fallback

```html
<mmc-avatar>
	<mmc-avatar-fallback>
		<mmc-icon name="lucideUser" size="sm" class="opacity-60"></mmc-icon>
	</mmc-avatar-fallback>
</mmc-avatar>
```

### With Badge

```html
<div class="relative">
	<mmc-avatar class="rounded-lg">
		<mmc-avatar-image [src]="user.avatar" [imgAlt]="user.name" />
		<mmc-avatar-fallback>{{user.initials}}</mmc-avatar-fallback>
	</mmc-avatar>
	<mmc-badge
		class="border-background absolute -top-1 left-full min-w-5 -translate-x-4 px-1 rounded-full"
	>
		6
	</mmc-badge>
</div>
```

### Custom Size

```html
<!-- Small -->
<mmc-avatar class="size-8">
	<mmc-avatar-image [src]="avatar" />
	<mmc-avatar-fallback>JD</mmc-avatar-fallback>
</mmc-avatar>

<!-- Large -->
<mmc-avatar class="size-20">
	<mmc-avatar-image [src]="avatar" />
	<mmc-avatar-fallback>JD</mmc-avatar-fallback>
</mmc-avatar>
```

## API Reference

### Avatar

<ArgTypes of={MmcAvatar} />

## Accessibility

- Images include `alt` text for screen readers
- Fallback text is readable by screen readers
- Proper semantic structure

## All Examples

<Canvas of={AvatarStories.WithIcon} />
<Canvas of={AvatarStories.WithBadge} />
