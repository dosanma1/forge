<!-- Top bar with breadcrumb selector (full width) -->
<header class="sticky top-0 z-50 flex h-12 shrink-0 items-center border-b border-border bg-background px-4">
	<mmc-breadcrumb
		variant="selector"
		[segments]="breadcrumbSegments()"
		[logo]="logo"
		(itemSelected)="onBreadcrumbSelect($event)"
		(addClicked)="onBreadcrumbAdd($event)"
		(logoClick)="onLogoClick()"
		(segmentClick)="onSegmentClick($event)"
	/>
</header>

<!-- Content area with sidebar and main -->
<div class="flex flex-1 overflow-hidden relative">
	<mmc-side-bar
		variant="simple"
		[navigation]="navigationItems()"
	/>

	<!-- Main content -->
	<main
		class="flex-1 overflow-auto transition-[margin] duration-300"
		[class.ml-14]="sidebarService.state() === 'hover'"
	>
		<router-outlet></router-outlet>
	</main>
</div>

<!-- Global Status Bar -->
<footer class="h-6 border-t border-border bg-muted/50 flex items-center justify-between px-3 text-xs shrink-0">
	<div class="flex items-center gap-4">
		<button class="hover:bg-muted px-2 py-0.5 rounded flex items-center gap-1">
			<mmc-icon name="lucideGitBranch" class="w-3 h-3" />
			<span>{{ currentBranch() || 'no branch' }}</span>
		</button>
	</div>
	<div class="flex items-center gap-4 text-muted-foreground">
		<span>Forge Studio</span>
	</div>
</footer>
